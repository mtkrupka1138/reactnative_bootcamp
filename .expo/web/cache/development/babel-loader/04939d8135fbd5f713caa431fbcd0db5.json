{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/MTKrupka/Desktop/NucampFolder/4-React-Native/React-Native.nosync/nucampsite/components/CampsiteInfoComponent.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { Card, Icon, Rating, Input } from 'react-native-elements';\nimport { connect } from 'react-redux';\nimport { baseUrl } from \"../shared/baseUrl\";\nimport { postFavorite as _postFavorite, postComment as _postComment } from \"../redux/ActionCreators\";\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    campsites: state.campsites,\n    comments: state.comments,\n    favorites: state.favorites\n  };\n};\n\nvar mapDispatchToProps = {\n  postFavorite: function postFavorite(campsiteId) {\n    return _postFavorite(campsiteId);\n  },\n  postComment: function postComment(campsiteId, rating, author, text) {\n    return _postComment(campsiteId, rating, author, text);\n  }\n};\n\nfunction RenderCampsite(props) {\n  var campsite = props.campsite;\n\n  if (campsite) {\n    return React.createElement(Card, {\n      featuredTitle: campsite.name,\n      image: {\n        uri: baseUrl + campsite.image\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 13\n      }\n    }, React.createElement(Text, {\n      style: {\n        margin: 10\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }\n    }, campsite.description), React.createElement(View, {\n      style: styles.cardRow,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }\n    }, React.createElement(Icon, {\n      name: props.favorite ? 'heart' : 'heart-o',\n      type: \"font-awesome\",\n      color: \"#f50\",\n      raised: true,\n      reverse: true,\n      onPress: function onPress() {\n        return props.favorite ? console.log('Already set as a favorite') : props.markFavorite();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 21\n      }\n    }), React.createElement(Icon, {\n      name: \"pencil\",\n      type: \"font-awesome\",\n      color: \"#5637DD\",\n      raised: true,\n      reverse: true,\n      onPress: function onPress() {\n        return props.onShowModal();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }\n    })));\n  }\n\n  return React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 12\n    }\n  });\n}\n\nfunction RenderComments(_ref) {\n  var _this = this;\n\n  var comments = _ref.comments;\n\n  var renderCommentItem = function renderCommentItem(_ref2) {\n    var item = _ref2.item;\n    return React.createElement(View, {\n      style: {\n        margin: 10\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }, React.createElement(Text, {\n      style: {\n        fontSize: 14\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }, item.text), React.createElement(Rating, {\n      readonly: true,\n      startingValue: item.rating,\n      imageSize: 10,\n      style: {\n        fontSize: 12,\n        alignItems: 'flex-start',\n        paddingVertical: '5%'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }, item.rating, \" Stars\"), React.createElement(Text, {\n      style: {\n        fontSize: 12\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, \"-- \" + item.author + \", \" + item.date));\n  };\n\n  return React.createElement(Card, {\n    title: \"Comments\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, React.createElement(FlatList, {\n    data: comments,\n    renderItem: renderCommentItem,\n    keyExtractor: function keyExtractor(item) {\n      return item.id.toString();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }));\n}\n\nvar CampsiteInfo = function (_Component) {\n  _inherits(CampsiteInfo, _Component);\n\n  var _super = _createSuper(CampsiteInfo);\n\n  function CampsiteInfo(props) {\n    var _this2;\n\n    _classCallCheck(this, CampsiteInfo);\n\n    _this2 = _super.call(this, props);\n    _this2.state = {\n      favorite: false,\n      showModal: false,\n      rating: 5,\n      author: '',\n      text: ''\n    };\n    return _this2;\n  }\n\n  _createClass(CampsiteInfo, [{\n    key: \"toggleModal\",\n    value: function toggleModal() {\n      this.setState({\n        showModal: !this.state.showModal\n      });\n    }\n  }, {\n    key: \"handleComment\",\n    value: function handleComment(campsiteId) {\n      this.props.postComment(campsiteId, this.state.rating, this.state.author, this.state.text);\n      this.toggleModal();\n    }\n  }, {\n    key: \"resetForm\",\n    value: function resetForm() {\n      this.setState({\n        rating: 5,\n        author: '',\n        text: '',\n        showModal: false\n      });\n    }\n  }, {\n    key: \"markFavorite\",\n    value: function markFavorite(campsiteId) {\n      this.props.postFavorite(campsiteId);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var campsiteId = this.props.navigation.getParam('campsiteId');\n      var campsite = this.props.campsites.campsites.filter(function (campsite) {\n        return campsite.id === campsiteId;\n      })[0];\n      var comments = this.props.comments.comments.filter(function (comment) {\n        return comment.campsiteId === campsiteId;\n      });\n      return React.createElement(ScrollView, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }\n      }, React.createElement(RenderCampsite, {\n        campsite: campsite,\n        favorite: this.props.favorites.includes(campsiteId),\n        markFavorite: function markFavorite() {\n          return _this3.markFavorite(campsiteId);\n        },\n        onShowModal: function onShowModal() {\n          return _this3.toggleModal();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 17\n        }\n      }), React.createElement(RenderComments, {\n        comments: comments,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 17\n        }\n      }), React.createElement(Modal, {\n        animationType: 'slide',\n        transparent: false,\n        visible: this.state.showModal,\n        onRequestClose: function onRequestClose() {\n          return _this3.toggleModal();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        style: styles.modal,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }\n      }, React.createElement(Rating, {\n        showRating: true,\n        startingValue: this.state.rating,\n        imageSize: 40,\n        onFinishRating: function onFinishRating(rating) {\n          return _this3.setState({\n            rating: rating\n          });\n        },\n        style: {\n          paddingVertical: 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 25\n        }\n      }), React.createElement(Input, {\n        placeholder: \"Author\",\n        leftIcon: {\n          type: 'font-awesome',\n          name: 'user-o'\n        },\n        leftIconContainerStyle: {\n          paddingRight: 10\n        },\n        onChangeText: function onChangeText(author) {\n          return _this3.setState({\n            author: author\n          });\n        },\n        value: this.state.author,\n        maxLength: 30,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 25\n        }\n      }), React.createElement(Input, {\n        placeholder: \"Comment\",\n        leftIcon: {\n          type: 'font-awesome',\n          name: 'comment-o'\n        },\n        leftIconContainerStyle: {\n          paddingRight: 10\n        },\n        onChangeText: function onChangeText(text) {\n          return _this3.setState({\n            text: text\n          });\n        },\n        value: this.state.text,\n        maxLength: 100,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 25\n        }\n      }), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 25\n        }\n      }, React.createElement(Button, {\n        title: \"Submit\",\n        color: \"#5637DD\",\n        onPress: function onPress() {\n          _this3.handleComment(campsiteId);\n\n          _this3.resetForm();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 29\n        }\n      })), React.createElement(View, {\n        style: {\n          margin: 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 25\n        }\n      }, React.createElement(Button, {\n        onPress: function onPress() {\n          _this3.toggleModal();\n\n          _this3.resetForm();\n        },\n        color: \"#808080\",\n        title: \"Cancel\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 29\n        }\n      })))));\n    }\n  }]);\n\n  return CampsiteInfo;\n}(Component);\n\nCampsiteInfo.navigationOptions = {\n  title: 'Campsite Information'\n};\nvar styles = StyleSheet.create({\n  cardRow: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    flex: 1,\n    flexDirection: 'row',\n    margin: 20\n  },\n  modal: {\n    justifyContent: 'center',\n    margin: 20\n  }\n});\nexport default connect(mapStateToProps, mapDispatchToProps)(CampsiteInfo);","map":{"version":3,"sources":["/Users/MTKrupka/Desktop/NucampFolder/4-React-Native/React-Native.nosync/nucampsite/components/CampsiteInfoComponent.js"],"names":["React","Component","Card","Icon","Rating","Input","connect","baseUrl","postFavorite","postComment","mapStateToProps","state","campsites","comments","favorites","mapDispatchToProps","campsiteId","rating","author","text","RenderCampsite","props","campsite","name","uri","image","margin","description","styles","cardRow","favorite","console","log","markFavorite","onShowModal","RenderComments","renderCommentItem","item","fontSize","alignItems","paddingVertical","date","id","toString","CampsiteInfo","showModal","setState","toggleModal","navigation","getParam","filter","comment","includes","modal","type","paddingRight","handleComment","resetForm","navigationOptions","title","StyleSheet","create","justifyContent","flex","flexDirection"],"mappings":"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","sourcesContent":["\n   \nimport React, { Component } from 'react';\nimport { Text, View, ScrollView, FlatList, Modal, Button, StyleSheet } from 'react-native';\nimport { Card, Icon, Rating, Input } from 'react-native-elements';\nimport { connect } from 'react-redux';\nimport { baseUrl } from '../shared/baseUrl';\nimport { postFavorite, postComment } from '../redux/ActionCreators';\n\nconst mapStateToProps = state => {\n    return {\n        campsites: state.campsites,\n        comments: state.comments,\n        favorites: state.favorites\n    };\n};\n\nconst mapDispatchToProps = {\n    postFavorite: campsiteId => (postFavorite(campsiteId)),\n    postComment: (campsiteId, rating, author, text) => (postComment(campsiteId, rating, author, text))\n};\n\nfunction RenderCampsite(props) {\n\n    const {campsite} = props;\n\n    if (campsite) {\n        return (\n            <Card\n                featuredTitle={campsite.name}\n                image={{uri: baseUrl + campsite.image}}>\n                <Text style={{margin: 10}}>\n                    {campsite.description}\n                </Text>\n                <View style={styles.cardRow}>\n                    <Icon\n                        name={props.favorite ? 'heart' : 'heart-o'}\n                        type='font-awesome'\n                        color='#f50'\n                        raised\n                        reverse\n                        onPress={() => props.favorite ? \n                            console.log('Already set as a favorite') : props.markFavorite()}\n                    />\n                    <Icon \n                        name='pencil'\n                        type='font-awesome'\n                        color='#5637DD'\n                        raised\n                        reverse\n                        onPress={() => props.onShowModal()}\n                    />\n                </View>\n            </Card>\n        );\n    }\n    return <View />;\n}\n\nfunction RenderComments({comments}) {\n\n    const renderCommentItem = ({item}) => {\n        return (\n            <View style={{margin: 10}}>\n                <Text style={{fontSize: 14}}>{item.text}</Text>\n                <Rating readonly startingValue={item.rating} imageSize={10} style={{fontSize: 12, alignItems: 'flex-start', paddingVertical: '5%'}}>{item.rating} Stars</Rating>\n                <Text style={{fontSize: 12}}>{`-- ${item.author}, ${item.date}`}</Text>\n            </View>\n        );\n    };\n\n    return (\n        <Card title='Comments'>\n            <FlatList\n                data={comments}\n                renderItem={renderCommentItem}\n                keyExtractor={item => item.id.toString()}\n            />\n        </Card>\n    );\n}\n\nclass CampsiteInfo extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            favorite: false,\n            showModal: false,\n            rating: 5,\n            author: '',\n            text: '',\n        };\n    }\n\n    static navigationOptions = {\n        title: 'Campsite Information'\n    }\n\n    toggleModal() {\n        this.setState({showModal: !this.state.showModal});\n    }\n\n    handleComment(campsiteId) {\n        this.props.postComment(campsiteId, this.state.rating, this.state.author, this.state.text)\n        this.toggleModal();\n    }\n\n    resetForm() {\n        this.setState({\n            rating: 5,\n            author: '',\n            text: '',\n            showModal: false\n        });\n    }\n\n    markFavorite(campsiteId) {\n        this.props.postFavorite(campsiteId);\n    }\n\n    render() {\n        const campsiteId = this.props.navigation.getParam('campsiteId');\n        const campsite = this.props.campsites.campsites.filter(campsite => campsite.id === campsiteId)[0];\n        const comments = this.props.comments.comments.filter(comment => comment.campsiteId === campsiteId);\n        return (\n            <ScrollView>\n                <RenderCampsite campsite={campsite}\n                    favorite={this.props.favorites.includes(campsiteId)}\n                    markFavorite={() => this.markFavorite(campsiteId)}\n                    onShowModal={() => this.toggleModal()}\n                />\n                <RenderComments comments={comments} />\n                <Modal \n                    animationType={'slide'}\n                    transparent={false}\n                    visible={this.state.showModal}\n                    onRequestClose={() => this.toggleModal()}\n                >\n                    <View style={styles.modal}>\n                        <Rating\n                            showRating\n                            startingValue={this.state.rating}\n                            imageSize={40}\n                            onFinishRating={rating => this.setState({rating: rating})}\n                            style={{paddingVertical: 10}}\n                        />\n                        <Input \n                            placeholder='Author'\n                            leftIcon={{type: 'font-awesome' , name:'user-o'}}\n                            leftIconContainerStyle={{paddingRight: 10}}\n                            onChangeText={author => this.setState({author: author})}\n                            value={this.state.author}\n                            maxLength={30}\n                        />\n                        <Input \n                            placeholder='Comment'\n                            leftIcon={{type: 'font-awesome' , name:'comment-o'}}\n                            leftIconContainerStyle={{paddingRight: 10}}\n                            onChangeText={text => this.setState({text: text})}\n                            value={this.state.text}\n                            maxLength={100}\n                        />\n                        <View>\n                            <Button \n                                title='Submit'\n                                color='#5637DD'\n                                onPress={() => {\n                                    this.handleComment(campsiteId); \n                                    this.resetForm();\n                                }}\n                            />\n                        </View>\n                        <View style={{margin: 10}}>\n                            <Button \n                                onPress={() => {\n                                    this.toggleModal();\n                                    this.resetForm();\n                                }} \n                                color='#808080'\n                                title='Cancel'\n                            />\n                        </View>\n                    </View>\n                </Modal>\n            </ScrollView>\n        );\n    }\n}\n\nconst styles = StyleSheet.create({\n    cardRow: {\n        alignItems: 'center',\n        justifyContent: 'center',\n        flex: 1,\n        flexDirection: 'row',\n        margin: 20\n    },\n    modal: { \n        justifyContent: 'center',\n        margin: 20\n    }\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CampsiteInfo);"]},"metadata":{},"sourceType":"module"}